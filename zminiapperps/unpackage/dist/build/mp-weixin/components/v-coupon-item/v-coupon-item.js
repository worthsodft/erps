"use strict";const e=require("../../common/vendor.js"),t={__name:"v-coupon-item",props:{item:Object,type:{type:String,default:"fetch"},mb:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},emits:["select"],setup(t,{emit:o}){const i=t,n=o,m=e.ref("my"==i.type?1:0);e.watchEffect((()=>{"my"!=i.type&&(m.value=i.item.has_count>0?1:0)}));const l=e.index.$tool.throttle((()=>{e.index.$login.judgePhone((()=>{p()}))})),p=()=>{e.index.$http.post("v1/fetchCoupon/"+i.item.gid).then((t=>{if(1!=t.code)return e.index.$tool.tip(t.info||"系统错误");e.index.$tool.tip(t.info||"操作成功")}))};function s(){e.index.$tool.navto("/pages/goods/list")}function u(){n("select",i.item)}return(o,i)=>e.e({a:t.item.money>0},t.item.money>0?{b:e.t(t.item.money)}:{c:e.t(t.item.discount)},{d:e.t(t.item.title),e:t.item.expire_at},t.item.expire_at?{f:e.t(t.item.expire_at)}:{g:e.t(t.item.expire_days)},{h:0==t.item.min_use_money},0==t.item.min_use_money?{}:{i:e.t(t.item.min_use_money)},{j:"fetch"==t.type},"fetch"==t.type?{k:e.t(0==m.value?"已 领 完":"立即领取"),l:e.n("usenow-color-"+m.value),m:e.o(((...t)=>e.unref(l)&&e.unref(l)(...t)))}:"my"==t.type?{o:e.n("usenow-color-1"),p:e.o(s)}:"select"==t.type?{r:e.n("usenow-color-1"),s:e.o(u)}:{},{n:"my"==t.type,q:"select"==t.type,t:t.fullWidth?1:"",v:e.n("jb-"+m.value),w:t.mb?1:"",x:e.s(t.fullWidth?"width: 100%;":"width: 400rpx;")})}},o=e._export_sfc(t,[["__scopeId","data-v-ba8a153d"]]);wx.createComponent(o);

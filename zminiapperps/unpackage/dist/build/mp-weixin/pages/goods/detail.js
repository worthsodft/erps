"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uv-parse")+e.resolveComponent("uni-icons"))()}Math||((()=>"../../uni_modules/uv-parse/components/uv-parse/uv-parse.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js"))();const a={__name:"detail",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(a){const t=e.ref(""),o=e.ref({}),n=e.useModel(a,"modelValue"),u=e.ref(0),l=e.ref(0);function s(){e.index.$tool.navto("/pages/cart/cart")}function i(){t.value="scale-down",setTimeout((()=>{t.value="scale-up"}),100);let a={sn:o.value.sn,number:n.value};e.index.$login.judgeLogin((()=>{e.index.$api.add2cart(a,(e=>{l.value=e.data.total}))}))}return e.onLoad((a=>{let t=a.sn||"";if(!t)return e.index.$tool.tip("商品编号不存在");!function(a){e.index.$http.get("v1/goodsDetail/"+a).then((e=>{o.value=e.data.goods,n.value=1,u.value=n.value*o.value.self_price}))}(t),e.index.$api.getCartTotal((e=>{l.value=e.data.total}))})),e.onShareAppMessage((()=>{let e=getApp().globalData.shareData;return console.log(e),e})),(a,n)=>e.e({a:e.f(o.value.slider,((e,a,t)=>({a:e||"",b:a}))),b:e.t(o.value.self_price),c:e.t(o.value.unit),d:e.t(o.value.market_price),e:e.t(o.value.name||""),f:e.t(o.value.min_buy_number),g:e.t(o.value.unit),h:e.t(parseInt(o.value.deliver_fee)),i:e.t(o.value.unit),j:e.p({content:o.value.desc}),k:e.p({type:"cart",size:"30",color:"#000"}),l:l.value>0},l.value>0?{m:e.t(l.value)}:{},{n:e.n(t.value),o:e.o(s),p:e.o(i),q:e.o(s)})}},t=e._export_sfc(a,[["__scopeId","data-v-a7a616ca"]]);a.__runtimeHooks=2,wx.createPage(t);

"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("v-line-title")()}Math;const t={__name:"recharge",setup(t){const a=e.ref([]),n=e.ref([]),o=e.ref(0),i=e.ref(0);function r(){e.index.$api.getUserInfo((t=>{o.value=t.data.userInfo.money,t.data.userInfo.money_expire_at,e.index.$login.updateTokenCache(t.data)}))}function l(){e.index.$tool.navto("/pages/pay/money-log")}function d(){e.index.$login.judgePhone((()=>{!async function(){let t=a.value[i.value];if(!t.gid)return e.index.$tool.tip("充值项目不存在");const n=await e.index.$api.getPayInfo("recharge",t.gid);if(1!=n.code)return e.index.$tool.tip(n.info||"系统错误");e.index.$tool.payment(n.data.payInfo,(()=>{r()}))}()}))}return e.index.$http.get("v1/rechargeWayList").then((e=>{a.value=e.data.list,n.value=e.data.remarkList})),r(),(t,r)=>e.e({a:e.p({title:"当前余额："}),b:e.t(o.value),c:e.p({title:"充值金额"}),d:e.f(a.value,((t,a,n)=>({a:e.t(t.money),b:e.t(t.give_money),c:e.o((e=>i.value=a),t.id),d:i.value==a?1:"",e:t.id}))),e:n.value.length>0},n.value.length>0?{f:e.p({title:"充值说明"}),g:e.f(n.value,((t,a,n)=>({a:e.t(a+1),b:e.t(t),c:a})))}:{},{h:e.o(d),i:e.o(l)})}},a=e._export_sfc(t,[["__scopeId","data-v-2d735c00"]]);wx.createPage(a);

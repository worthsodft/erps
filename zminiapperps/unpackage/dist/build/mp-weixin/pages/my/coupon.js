"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("v-coupon-item")+e.resolveComponent("uni-load-more"))()}Math||((()=>"../../components/v-coupon-item/v-coupon-item.js")+(()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();const o={__name:"coupon",setup(o){const t=e.ref([]),a=e.ref("more");let n=1,u=0;async function r(){if("more"!=a.value)return;a.value="loading";const o=await e.index.$http.get("v1/getMyCouponPageData?page="+n);if(1!=o.code)return e.index.$tool.tip(o.info||"系统错误");let r=o.data.pageData;0!=r.data.length?(t.value=[...t.value,...r.data],u=r.total,t.value.length>=u?a.value="nomore":(a.value="more",n++)):a.value="nomore"}return r(),e.onReachBottom((()=>{r()})),(o,n)=>({a:e.f(t.value,((o,t,a)=>({a:o.id,b:"6d0d5ea9-0-"+a,c:e.p({item:o,type:"my",mb:!0,fullWidth:!0})}))),b:e.o(r),c:e.p({status:a.value})})}},t=e._export_sfc(o,[["__scopeId","data-v-6d0d5ea9"]]);wx.createPage(t);

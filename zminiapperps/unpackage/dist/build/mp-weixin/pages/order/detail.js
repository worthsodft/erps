"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-icons")+e.resolveComponent("v-order-sub-item2")+e.resolveComponent("v-order-info-item")+e.resolveComponent("v-order-confirm-bar2")+e.resolveComponent("v-deliver-images"))()}Math||((()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../components/v-order-sub-item2/v-order-sub-item2.js")+(()=>"../../components/v-order-info-item/v-order-info-item.js")+(()=>"../../components/v-order-confirm-bar2/v-order-confirm-bar2.js")+(()=>"../../components/v-deliver-images/v-deliver-images.js"))();const t={__name:"detail",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){e.ref(e.index.$enum),e.ref("去使用");const n=e.ref(),a=e.ref({}),r=e.ref("");let u=e.ref([]),o={},i=-1,l=e.useModel(t,"modelValue");const s=e.ref(),v=e.ref([]);function f(){s.value.open()}function d(){k()}const c=e.ref({});let p=e.ref({}),m=e.ref({}),_={weixin:"微信",yue:"余额"},g=e.ref(""),y="";e.onLoad((t=>{e.index.$http.post("v1/getInitDataConfirm",o).then((e=>{u.value=e.data.takeTypes})),t.sn&&(y=t.sn,e.index.$tool.setNavTitle("订单查看"),e.index.$login.judgeLogin((()=>{k()})))}));const h=()=>{const t="订单编号："+a.value.sn;e.index.setClipboardData({data:t,success(t){e.index.$tool.tip("订单编号已复制")}})};function k(){e.index.$tool.showLoading(),e.index.$http.post("v1/getOrderDetail/"+y).then((t=>{e.index.$tool.hideLoading(),a.value=t.data.order,l.value=a.value.remark,g.value=a.value.pay_type||"",m.value=t.data.station,p.value=t.data.address,c.value=t.data.coupon}))}function b(){e.index.$tool.back()}return(t,o)=>e.e({a:n.value},n.value?e.e({b:e.o(t.takeTypeChange),c:e.o((t=>e.isRef(i)?i.value=t:i=t)),d:e.p({localdata:e.unref(u),modelValue:e.unref(i)}),e:0==e.unref(i)},0==e.unref(i)?e.e({f:e.unref(m)&&e.unref(m).gid},e.unref(m)&&e.unref(m).gid?{g:e.t(e.unref(m).title),h:e.t("\n"),i:e.t(e.unref(m).province?e.unref(m).province+", ":""),j:e.t(e.unref(m).city?t.item.city+", ":""),k:e.t(e.unref(m).district?e.unref(m).district+", ":""),l:e.t(e.unref(m).street?e.unref(m).street+", ":""),m:e.t(e.unref(m).detail),n:e.t("\n"),o:e.t(e.unref(m).link_name),p:e.t(e.unref(m).link_phone)}:{},{q:e.p({type:"right",color:"#999999"}),r:e.o(((...e)=>t.showStationPopup&&t.showStationPopup(...e)))}):1==e.unref(i)?e.e({t:e.unref(p)&&e.unref(p).gid},e.unref(p)&&e.unref(p).gid?{v:e.t(e.unref(p).province?e.unref(p).province+", ":""),w:e.t(e.unref(p).city?e.unref(p).city+", ":""),x:e.t(e.unref(p).district?e.unref(p).district+", ":""),y:e.t(e.unref(p).street?e.unref(p).street+", ":""),z:e.t(e.unref(p).detail),A:e.t("\n"),B:e.t(e.unref(p).link_name),C:e.t(e.unref(p).link_phone)}:{},{D:e.p({type:"right",color:"#999999"})}):{},{s:1==e.unref(i)}):a.value.sn?e.e({F:e.t(a.value.take_type_txt),G:e.unref(m)&&e.unref(m).gid},e.unref(m)&&e.unref(m).gid?{H:e.t(e.unref(m).title),I:e.t("\n"),J:e.t(e.unref(m).province?e.unref(m).province+", ":""),K:e.t(e.unref(m).city?t.item.city+", ":""),L:e.t(e.unref(m).district?e.unref(m).district+", ":""),M:e.t(e.unref(m).street?e.unref(m).street+", ":""),N:e.t(e.unref(m).detail),O:e.t("\n"),P:e.t(e.unref(m).link_name),Q:e.t(e.unref(m).link_phone)}:e.unref(p)&&e.unref(p).gid?{S:e.t(e.unref(p).province?e.unref(p).province+", ":""),T:e.t(e.unref(p).city?e.unref(p).city+", ":""),U:e.t(e.unref(p).district?e.unref(p).district+", ":""),V:e.t(e.unref(p).street?e.unref(p).street+", ":""),W:e.t(e.unref(p).detail),X:e.t("\n"),Y:e.t(e.unref(p).link_name),Z:e.t(e.unref(p).link_phone)}:{},{R:e.unref(p)&&e.unref(p).gid}):{},{E:a.value.sn,aa:a.value.sn},a.value.sn?{ab:e.t(a.value.sn),ac:e.o(h)}:{},{ad:e.f(a.value.subs,((t,n,a)=>({a:t.gid,b:"cc42960d-3-"+a,c:e.p({item:t})}))),ae:e.p({title:"商品金额",value:"￥"+(a.value.goods_amount||"0.00")}),af:e.p({title:"优惠金额",value:"-￥"+(a.value.discount_amount||"0.00"),color:"#da4754",bold:!0}),ag:e.p({title:"商品实付金额",value:"￥"+(a.value.real_amount||"0.00"),bold:!0}),ah:e.p({title:"服务费",title2:r.value,title2color:"#da4754",value:"￥"+(a.value.deliver_amount||"0.00")}),ai:0==a.value.status},0==a.value.status?{aj:e.o(t.showPayTypePopup),ak:e.p({title:"支付方式",value:e.unref(_)[e.unref(g)],type:"pay_type",color:"#999"})}:{al:e.p({title:"支付方式",value:e.unref(_)[e.unref(g)],type:"pay_type",color:"#999",showRightIcon:!1})},{am:n.value},n.value?{an:e.o(t.showCouponPopup),ao:e.p({title:"优惠券",value:c.value.title||"选择优惠券",type:"coupon",color:"#999"})}:a.value.sn?{aq:e.p({title:"优惠券",value:c.value&&c.value.title||"未使用",color:"#999"})}:{},{ap:a.value.sn,ar:e.unref(l)},e.unref(l)?{as:e.t(e.unref(l))}:{},{at:a.value.deliver_remark},a.value.deliver_remark?{av:e.t(a.value.deliver_remark)}:{},{aw:a.value.deliver_images},a.value.deliver_images?{ax:e.f(a.value.deliver_images,((t,n,r)=>({a:e.o((t=>function(t){e.index.previewImage({current:t,urls:a.value.deliver_images})}(n)),n),b:t,c:n})))}:{},{ay:a.value.sn&&1==a.value.take_type&&1==a.value.status&&1==a.value.deliver_status},a.value.sn&&1==a.value.take_type&&1==a.value.status&&1==a.value.deliver_status?{az:e.o(f),aA:e.p({money:a.value.pay_amount||"",number:a.value.goods_total,action:"deliver"})}:{aB:e.o(b),aC:e.p({money:a.value.pay_amount||"",number:a.value.goods_total,action:"navto"})},{aD:e.sr(s,"cc42960d-14",{k:"deliverImagesRef"}),aE:e.o(d),aF:e.p({sn:a.value.sn,images:v.value})})}},n=e._export_sfc(t,[["__scopeId","data-v-cc42960d"]]);wx.createPage(n);

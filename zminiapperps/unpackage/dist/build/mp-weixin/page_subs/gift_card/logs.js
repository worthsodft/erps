"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("v-gift-card-log-item")+e.resolveComponent("uni-load-more"))()}Math||((()=>"../../components/v-gift-card-log-item/v-gift-card-log-item.js")+(()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();const o={__name:"logs",setup(o){const t=e.ref([]),a=e.ref("more");let n=1,r=0;async function l(){if("more"!=a.value)return;a.value="loading";const o=await e.index.$http.get("v1/getMyGiftCardLogPageData?page="+n);if(1!=o.code)return e.index.$tool.tip(o.info||"系统错误");let l=o.data.pageData;0!=l.data.length?(t.value=[...t.value,...l.data],r=l.total,t.value.length>=r?a.value="nomore":(a.value="more",n++)):a.value="nomore"}return l(),e.onReachBottom((()=>{l()})),(o,n)=>({a:e.f(t.value,((o,t,a)=>({a:o.id,b:"6e5199c7-0-"+a,c:e.p({item:o})}))),b:e.o(l),c:e.p({status:a.value})})}},t=e._export_sfc(o,[["__scopeId","data-v-6e5199c7"]]);wx.createPage(t);

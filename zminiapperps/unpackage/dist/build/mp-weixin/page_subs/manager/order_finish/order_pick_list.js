"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-section")+e.resolveComponent("uni-datetime-picker")+e.resolveComponent("v-order-pick-item")+e.resolveComponent("uni-load-more"))()}Math||((()=>"../../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../../uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.js")+(()=>"../../../components/v-order-pick-item/v-order-pick-item.js")+(()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();const t={__name:"order_pick_list",setup(t){let o=e.index.$tool.today();const n=e.ref([o,o]),a=e.ref("more"),i=e.ref([]);let r=e.ref(0),l=1;function u(t){e.index.$tool.confirm("确认要配货吗？",(()=>{e.index.$http.post("v1/orderPickConfirm/"+t.gid).then((t=>{e.index.$tool.tip("配货成功"),m(),c("reset")}))}))}function d(e){0==e.length?n.value=[o,o]:n.value=e,m(),c("reset")}function m(){a.value="more",l=1,r.value=0}function c(t){"more"==a.value&&(a.value="loading",e.index.$http.post("v1/getMyStationOrderPickPageData",{page:l,createAtRange:n.value}).then((o=>{if(1!=o.code)return e.index.$tool.tip(o.info||"系统错误");let n=o.data.pageData;if(r.value=n.total,0==n.total)return a.value="nomore",void(i.value=[]);0!=n.data.length?(i.value="reset"==t?[...n.data]:[...i.value,...n.data],r.value=n.total,i.value.length>=r.value?a.value="nomore":(a.value="more",l++)):a.value="nomore"})))}return c(),e.onReachBottom((()=>{c()})),(t,o)=>({a:e.p({title:"发起时间：",type:"line"}),b:e.o(d),c:e.o((e=>n.value=e)),d:e.p({type:"daterange",rangeSeparator:"至",modelValue:n.value}),e:e.p({title:"配货单数："+e.unref(r),type:"line"}),f:e.f(i.value,((t,o,n)=>({a:e.o(u,t.id),b:"a8101dd3-3-"+n,c:e.p({item:t}),d:t.id}))),g:e.o(c),h:e.p({status:a.value})})}},o=e._export_sfc(t,[["__scopeId","data-v-a8101dd3"]]);wx.createPage(o);

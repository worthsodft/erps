"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-section")+e.resolveComponent("uni-datetime-picker")+e.resolveComponent("v-order-item2-show")+e.resolveComponent("uni-load-more"))()}Math||((()=>"../../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../../uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.js")+(()=>"../../../components/v-order-item2-show/v-order-item2-show.js")+(()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();const t={__name:"order_finish_list",setup(t){let o=e.index.$tool.today();const a=e.ref([o,o]),n=e.ref("more"),i=e.ref([]);let r=e.ref(0),l=1;function u(e){0==e.length?a.value=[o,o]:a.value=e,n.value="more",l=1,r.value=0,s("reset")}function s(t){"more"==n.value&&(n.value="loading",e.index.$http.post("v1/getMyFinishOrderPageData",{page:l,takeAtRange:a.value}).then((o=>{if(1!=o.code)return e.index.$tool.tip(o.info||"系统错误");let a=o.data.pageData;if(r.value=a.total,0==a.total)return n.value="nomore",void(i.value=[]);0!=a.data.length?(i.value="reset"==t?[...a.data]:[...i.value,...a.data],r.value=a.total,i.value.length>=r.value?n.value="nomore":(n.value="more",l++)):n.value="nomore"})))}return s(),e.onReachBottom((()=>{s()})),(t,o)=>({a:e.p({title:"核销时间：",type:"line"}),b:e.o(u),c:e.o((e=>a.value=e)),d:e.p({type:"daterange",rangeSeparator:"至",modelValue:a.value}),e:e.p({title:"总订单数："+e.unref(r),type:"line"}),f:e.f(i.value,((t,o,a)=>({a:"c8292cc6-3-"+a,b:e.p({item:t}),c:t.id}))),g:e.o(s),h:e.p({status:n.value})})}},o=e._export_sfc(t,[["__scopeId","data-v-c8292cc6"]]);wx.createPage(o);

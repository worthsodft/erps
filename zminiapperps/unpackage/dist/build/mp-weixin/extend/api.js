"use strict";const t=require("../common/vendor.js"),e=require("./tool.js"),o={add2cart(e,o){t.index.$http.post("v1/add2cart",e).then((e=>{if(1!=e.code)return t.index.$tool.tip(e.info||"系统错误");t.index.$tool.setCartBadge(e.data.total),o&&o(e)}))},update2cart(e,o){t.index.$http.post("v1/update2cart",e).then((e=>{if(1!=e.code)return t.index.$tool.tip(e.info||"系统错误");t.index.$tool.setCartBadge(e.data.total),o&&o(e)}))},del2cart:e.tool.debounce(((e,o)=>{t.index.$http.post("v1/del2cart",e).then((e=>{if(1!=e.code)return t.index.$tool.tip(e.info||"系统错误");t.index.$tool.setCartBadge(e.data.total),o&&o(e)}))})),check2cart:e.tool.debounce(((e,o)=>{t.index.$http.post("v1/check2cart",e).then((e=>{if(1!=e.code)return t.index.$tool.tip(e.info||"系统错误");t.index.$tool.setCartBadge(e.data.total),o&&o(e)}))})),getCartTotal(e){t.index.$http.get("v1/getCartTotal").then((o=>{t.index.$tool.setCartBadge(o.data.total),e&&e(o)}))},getUserInfo(e){t.index.$http.get("v1/getUserInfo").then((t=>{e&&e(t)}))},getPayInfo:(e,o)=>t.index.$http.post("v1/getPayInfo",{type:e,gid:o}),getAppConfig:()=>t.index.$http.get("v1/getAppConfig")};exports.api=o;

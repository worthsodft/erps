{"version":3,"file":"api.js","sources":["extend/api.js"],"sourcesContent":["import tool from '@/extend/tool.js';\r\n// import tool from '@/extend/tool.js';\r\n// import tool from '@/extend/tool.js';\r\nexport default {\r\n\t/**\r\n\t * 添加到购物车\r\n\t * let params = {sn, number}\r\n\t */\r\n\tadd2cart(params, cb){\r\n\t\tuni.$http.post(\"v1/add2cart\", params).then(res=>{\r\n\t\t\tif(res.code != 1) return uni.$tool.tip(res.info||\"系统错误\")\r\n\t\t\tuni.$tool.setCartBadge(res.data.total)\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 更新到购物车\r\n\t * let params = {sn, number}\r\n\t */\r\n\tupdate2cart(params, cb){\r\n\t\tuni.$http.post(\"v1/update2cart\", params).then(res=>{\r\n\t\t\tif(res.code != 1) return uni.$tool.tip(res.info||\"系统错误\")\r\n\t\t\tuni.$tool.setCartBadge(res.data.total)\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 删除到购物车\r\n\t * let params = {sn, number}\r\n\t */\r\n\tdel2cart: tool.debounce((params, cb)=>{\r\n\t\tuni.$http.post(\"v1/del2cart\", params).then(res=>{\r\n\t\t\tif(res.code != 1) return uni.$tool.tip(res.info||\"系统错误\")\r\n\t\t\tuni.$tool.setCartBadge(res.data.total)\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t}),\r\n\t/**\r\n\t * 选择购物车\r\n\t * let params = {sn, is_checked}\r\n\t */\r\n\tcheck2cart: tool.debounce((params, cb)=>{\r\n\t\tuni.$http.post(\"v1/check2cart\", params).then(res=>{\r\n\t\t\tif(res.code != 1) return uni.$tool.tip(res.info||\"系统错误\")\r\n\t\t\tuni.$tool.setCartBadge(res.data.total)\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t}),\r\n\t\r\n\t/**\r\n\t * 获取购物车数量\r\n\t */\r\n\tgetCartTotal(cb){\r\n\t\tuni.$http.get(\"v1/getCartTotal\").then(res=>{\r\n\t\t\tuni.$tool.setCartBadge(res.data.total)\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t},\r\n\t\r\n\t/**\r\n\t * 得到用户信息\r\n\t * @param {Object} cb\r\n\t */\r\n\tgetUserInfo(cb){\r\n\t\tuni.$http.get(\"v1/getUserInfo\").then(res=>{\r\n\t\t\tcb && cb(res)\r\n\t\t})\r\n\t},\r\n\t\r\n\t/**\r\n\t * 支付预下单\r\n\t */\r\n\tgetPayInfo(type, gid){\r\n\t\treturn uni.$http.post(\"v1/getPayInfo\", {type,gid})\r\n\t},\r\n\t\r\n\t/**\r\n\t * 得到应用配置\r\n\t */\r\n\tgetAppConfig(){\r\n\t\treturn uni.$http.get(\"v1/getAppConfig\")\r\n\t}\r\n\t\r\n\t\r\n}"],"names":["uni","tool"],"mappings":";;;AAGA,MAAe,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKd,SAAS,QAAQ,IAAG;AACnBA,kBAAG,MAAC,MAAM,KAAK,eAAe,MAAM,EAAE,KAAK,SAAK;AAC/C,UAAG,IAAI,QAAQ;AAAG,eAAOA,cAAAA,MAAI,MAAM,IAAI,IAAI,QAAM,MAAM;AACvDA,oBAAAA,MAAI,MAAM,aAAa,IAAI,KAAK,KAAK;AACrC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKD,YAAY,QAAQ,IAAG;AACtBA,kBAAG,MAAC,MAAM,KAAK,kBAAkB,MAAM,EAAE,KAAK,SAAK;AAClD,UAAG,IAAI,QAAQ;AAAG,eAAOA,cAAAA,MAAI,MAAM,IAAI,IAAI,QAAM,MAAM;AACvDA,oBAAAA,MAAI,MAAM,aAAa,IAAI,KAAK,KAAK;AACrC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKD,UAAUC,YAAAA,KAAK,SAAS,CAAC,QAAQ,OAAK;AACrCD,kBAAG,MAAC,MAAM,KAAK,eAAe,MAAM,EAAE,KAAK,SAAK;AAC/C,UAAG,IAAI,QAAQ;AAAG,eAAOA,cAAAA,MAAI,MAAM,IAAI,IAAI,QAAM,MAAM;AACvDA,oBAAAA,MAAI,MAAM,aAAa,IAAI,KAAK,KAAK;AACrC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACH,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA,EAKD,YAAYC,YAAAA,KAAK,SAAS,CAAC,QAAQ,OAAK;AACvCD,kBAAG,MAAC,MAAM,KAAK,iBAAiB,MAAM,EAAE,KAAK,SAAK;AACjD,UAAG,IAAI,QAAQ;AAAG,eAAOA,cAAAA,MAAI,MAAM,IAAI,IAAI,QAAM,MAAM;AACvDA,oBAAAA,MAAI,MAAM,aAAa,IAAI,KAAK,KAAK;AACrC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACH,CAAE;AAAA;AAAA;AAAA;AAAA,EAKD,aAAa,IAAG;AACfA,kBAAG,MAAC,MAAM,IAAI,iBAAiB,EAAE,KAAK,SAAK;AAC1CA,oBAAAA,MAAI,MAAM,aAAa,IAAI,KAAK,KAAK;AACrC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,YAAY,IAAG;AACdA,kBAAG,MAAC,MAAM,IAAI,gBAAgB,EAAE,KAAK,SAAK;AACzC,YAAM,GAAG,GAAG;AAAA,IACf,CAAG;AAAA,EACD;AAAA;AAAA;AAAA;AAAA,EAKD,WAAW,MAAM,KAAI;AACpB,WAAOA,cAAAA,MAAI,MAAM,KAAK,iBAAiB,EAAC,MAAK,IAAG,CAAC;AAAA,EACjD;AAAA;AAAA;AAAA;AAAA,EAKD,eAAc;AACb,WAAOA,oBAAI,MAAM,IAAI,iBAAiB;AAAA,EACtC;AAGF;;"}
import{o as t,c as e,w as s,a,F as i,r as o,b as l,i as n,S as u,d as r,e as c,f as d,t as p,g as m,h as _,m as f,j as v,u as h,k as g,l as y,n as L,p as b,s as k,q as w}from"./index-C-ZICx1j.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{r as I}from"./uni-app.es.Cs0vIm-F.js";import{_ as x}from"./uni-icons.BrqcvC_M.js";import{_ as G}from"./uni-section.DISfxe6Z.js";import{_ as j}from"./v-coupon-item.yvzNMJ8_.js";import{_ as $}from"./v-number-box.BkpsK1Er.js";const D=C({__name:"v-swiper",props:{list:Array},setup:c=>(d,p)=>{const m=n,_=u,f=r;return t(),e(f,{class:"swiper",autoplay:"",circular:"","indicator-dots":""},{default:s((()=>[(t(!0),a(i,null,o(c.list,(a=>(t(),e(_,{class:"item",key:a.gid},{default:s((()=>[l(m,{class:"img",src:a.cover||"",mode:"scaleToFill"},null,8,["src"])])),_:2},1024)))),128))])),_:1})}},[["__scopeId","data-v-38d3b4cd"]]),A=C({__name:"v-notice",props:{list:Array,interval:{type:Number,default:3e3}},setup:n=>(_,f)=>{const v=I(c("uni-icons"),x),h=m,g=u,y=r;return t(),e(h,{class:"container-h content"},{default:s((()=>[l(h,{class:"icon"},{default:s((()=>[l(v,{type:"sound-filled",size:"30",color:"#5aa1d8"})])),_:1}),l(y,{class:"swiper",autoplay:"",circular:"",interval:n.interval},{default:s((()=>[(t(!0),a(i,null,o(n.list,(a=>(t(),e(g,{class:"item",key:a.gid},{default:s((()=>[l(h,{class:"title v-ellip"},{default:s((()=>[d(p(a.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["interval"])])),_:1})}},[["__scopeId","data-v-b0040442"]]),S=C({__name:"v-coupon-h",props:{list:Array},setup(n){function u(){uni.$tool.navto("/pages/my/coupon")}return(r,p)=>{const f=_,v=I(c("uni-icons"),x),h=m,g=I(c("uni-section"),G),y=I(c("v-coupon-item"),j);return t(),e(h,{class:"container-v"},{default:s((()=>[l(g,{title:"优惠券",type:"line"},{right:s((()=>[l(h,{class:"v-more",onClick:u},{default:s((()=>[l(f,null,{default:s((()=>[d("我的优惠券")])),_:1}),l(v,{type:"right",color:"#333"})])),_:1})])),_:1}),l(h,{class:"container-h list"},{default:s((()=>[(t(!0),a(i,null,o(n.list,(a=>(t(),e(h,{key:a.gid},{default:s((()=>[l(y,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-22282045"]]),F=C({__name:"v-goods-item3",props:f({item:Object},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){v("");const i=a,o=h(a,"modelValue");function u(){uni.$tool.navto("/pages/goods/detail?sn="+i.item.sn)}function r(t){o.value=t;let e={sn:i.item.sn,number:o.value};uni.$api.update2cart(e)}return o.value=i.item.number||0,g((()=>{o.value=i.item.number||0})),(i,f)=>{const v=n,h=m,g=_,b=I(c("v-number-box"),$);return t(),e(h,{class:"goods-item",onClick:u},{default:s((()=>[l(v,{class:"cover",src:a.item.cover,mode:"widthFix"},null,8,["src"]),l(h,{class:"info"},{default:s((()=>[l(h,{class:"title v-ellip"},{default:s((()=>[d(p(a.item.name),1)])),_:1}),l(h,{class:"info-item"},{default:s((()=>[l(g,{class:"v-desc"},{default:s((()=>[d(p(a.item.min_buy_number)+p(a.item.unit)+"起送",1)])),_:1}),a.item.deliver_fee>0?(t(),e(g,{key:0,class:"v-desc"},{default:s((()=>[d("配送费"+p(parseInt(a.item.deliver_fee))+"元 / "+p(a.item.unit),1)])),_:1})):y("",!0)])),_:1}),l(h,{class:"info-item"},{default:s((()=>[l(g,{class:"item-value price"},{default:s((()=>[d("￥"+p(a.item.self_price),1)])),_:1}),l(g,{class:"item-value unit"},{default:s((()=>[d(" / "+p(a.item.unit),1)])),_:1}),0!=parseFloat(a.item.market_price)?(t(),e(g,{key:0,class:"item-value market v-ml-10"},{default:s((()=>[d("￥"+p(a.item.market_price),1)])),_:1})):y("",!0)])),_:1}),l(h,{class:"info-item cart-number"},{default:s((()=>[l(h,{onClick:f[0]||(f[0]=L((()=>{}),["stop"]))},{default:s((()=>[l(b,{value:o.value,min:0,width:20,onChange:r,background:"#5aa1d830",color:"#5aa1d8"},null,8,["value"])])),_:1})])),_:1}),l(h,{class:"operate"})])),_:1})])),_:1})}}},[["__scopeId","data-v-6085adaa"]]),T=C({__name:"v-hot2",props:{list:Array,title:{type:String,default:"热销商品"},path:{type:String,default:"/pages/goods/list"}},setup(n){const u=n;function r(){uni.$tool.navto(u.path)}return(u,p)=>{const f=_,v=I(c("uni-icons"),x),h=m,g=I(c("uni-section"),G),y=I(c("v-goods-item3"),F);return t(),e(h,{class:"container-v"},{default:s((()=>[l(g,{title:n.title,type:"line"},{right:s((()=>[l(h,{class:"v-more",onClick:r},{default:s((()=>[l(f,null,{default:s((()=>[d("更多")])),_:1}),l(v,{type:"right",color:"#333"})])),_:1})])),_:1},8,["title"]),l(h,{class:"list"},{default:s((()=>[(t(!0),a(i,null,o(n.list,(a=>(t(),e(h,{class:"flow-item",key:a.id},{default:s((()=>[l(y,{item:a},null,8,["item"])])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-68a85146"]]),V=C({__name:"v-about",props:{content:String},setup:a=>(i,o)=>{const n=I(c("uni-section"),G),u=b,r=m;return t(),e(r,{class:"container-v"},{default:s((()=>[l(n,{title:"关于我们",type:"line"}),l(r,{class:"container-h content"},{default:s((()=>[l(u,{nodes:a.content},null,8,["nodes"])])),_:1})])),_:1})}},[["__scopeId","data-v-e77435c8"]]);const M=C({data:()=>({swiperList:[],noticeList:[],couponList:[],hotGoodsList:[],hotGiftCardList:[],aboutContent:""}),onLoad(t){uni.$tool.checkUpdateApp()},onShow(){uni.$api.getCartTotal(),this.getInitDataIndex()},methods:{getInitDataIndex(){uni.$http.get("v1/getInitDataIndex").then((t=>{if(1!=t.code)return uni.$tool.tip(t.info||"系统错误");this.swiperList=t.data.swiperList,this.noticeList=t.data.noticeList,this.couponList=t.data.couponList,this.hotGoodsList=t.data.hotGoodsList,this.hotGiftCardList=t.data.hotGiftCardList,this.aboutContent=t.data.aboutContent}))}},onPullDownRefresh(){this.getInitDataIndex(),setTimeout((()=>{k()}),200)},onShareAppMessage:()=>w().globalData.shareData},[["render",function(a,i,o,l,n,u){const r=I(c("v-swiper"),D),d=I(c("v-notice"),A),p=I(c("v-coupon-h"),S),_=I(c("v-hot2"),T),f=I(c("v-about"),V),v=m;return t(),e(v,{class:"container"},{default:s((()=>[n.swiperList.length?(t(),e(r,{key:0,list:n.swiperList},null,8,["list"])):y("",!0),n.noticeList.length?(t(),e(d,{key:1,list:n.noticeList},null,8,["list"])):y("",!0),n.couponList.length?(t(),e(p,{key:2,list:n.couponList},null,8,["list"])):y("",!0),n.hotGoodsList.length?(t(),e(_,{key:3,list:n.hotGoodsList},null,8,["list"])):y("",!0),n.hotGiftCardList.length?(t(),e(_,{key:4,title:"热销实物卡",path:"/pages/goods/gift_card_list",list:n.hotGiftCardList},null,8,["list"])):y("",!0),n.aboutContent?(t(),e(f,{key:5,content:n.aboutContent},null,8,["content"])):y("",!0)])),_:1})}]]);export{M as default};

import{_ as a}from"./v-coupon-item.BWYOAxw1.js";import{j as e,e as t,a as o,b as u,w as n,F as l,g as s,o as r,r as i,c as m}from"./index-Bk6Bf557.js";import{a as p,r as c}from"./uni-app.es.VV1Xt59_.js";import{_ as d}from"./uni-load-more.ZwF_zjD4.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const f=v({__name:"coupon",setup(v){const f=e([]),g=e("more");let _=1,j=0;async function h(){if("more"!=g.value)return;g.value="loading";const a=await uni.$http.get("v1/getMyCouponPageData?page="+_);if(1!=a.code)return uni.$tool.tip(a.info||"系统错误");let e=a.data.pageData;0!=e.data.length?(f.value=[...f.value,...e.data],j=e.total,f.value.length>=j?g.value="nomore":(g.value="more",_++)):g.value="nomore"}return h(),p((()=>{h()})),(e,p)=>{const v=c(t("v-coupon-item"),a),_=s,j=c(t("uni-load-more"),d);return r(),o(l,null,[u(_,{class:"container-v coupon"},{default:n((()=>[(r(!0),o(l,null,i(f.value,((a,e)=>(r(),m(v,{key:a.id,item:a,type:"my",mb:"",fullWidth:""},null,8,["item"])))),128))])),_:1}),u(j,{status:g.value,onClick:h},null,8,["status"])],64)}}},[["__scopeId","data-v-6d0d5ea9"]]);export{f as default};
